language: elixir
elixir: '1.5.2'
otp_release: '19.0'

services:
  - postgresql

install:
  - cp config/test.secret.exs.example config/test.secret.exs
  - cp config/dev.secret.exs.example config/dev.secret.exs
  - mix local.rebar --force
  - mix local.hex --force
  - mix deps.get
  - mix deps.compile

before_script:
  - mix do ecto.create, ecto.migrate

script:
  - mix test
  - mix credo --strict
